{"version":3,"sources":["js/custom.js"],"names":["$chatHistory","$button","$textarea","$chatHistoryList","init","cacheDOM","bindEvents","on","addMessage","bind","addMessageEnter","$","find","render","message","userName","scrollToBottom","templateResponse","Handlebars","compile","html","contextResponse","response","time","getCurrentTime","setTimeout","append","sendMessage","username","val","console","log","sendMsg","trim","template","context","messageOutput","toUserName","scrollTop","scrollHeight","Date","toLocaleTimeString","replace","event","keyCode"],"mappings":"AAAA,IAAIA,YAAJ;AACA,IAAIC,OAAJ;AACA,IAAIC,SAAJ;AACA,IAAIC,gBAAJ;;AAEA,SAASC,IAAT,GAAgB;AACZC,EAAAA,QAAQ;AACRC,EAAAA,UAAU;AACb;;AAED,SAASA,UAAT,GAAsB;AAClBL,EAAAA,OAAO,CAACM,EAAR,CAAW,OAAX,EAAoBC,UAAU,CAACC,IAAX,CAAgB,IAAhB,CAApB;AACAP,EAAAA,SAAS,CAACK,EAAV,CAAa,OAAb,EAAsBG,eAAe,CAACD,IAAhB,CAAqB,IAArB,CAAtB;AACH;;AAED,SAASJ,QAAT,GAAoB;AAChBL,EAAAA,YAAY,GAAGW,CAAC,CAAC,eAAD,CAAhB;AACAV,EAAAA,OAAO,GAAGU,CAAC,CAAC,UAAD,CAAX;AACAT,EAAAA,SAAS,GAAGS,CAAC,CAAC,kBAAD,CAAb;AACAR,EAAAA,gBAAgB,GAAGH,YAAY,CAACY,IAAb,CAAkB,IAAlB,CAAnB;AACH;;AAEDC,MAAM,GAAG,gBAASC,OAAT,EAAkBC,QAAlB,EAA4B;AACjCC,EAAAA,cAAc,GADmB,CAEjC;;AACA,MAAIC,gBAAgB,GAAGC,UAAU,CAACC,OAAX,CAAmBR,CAAC,CAAC,4BAAD,CAAD,CAAgCS,IAAhC,EAAnB,CAAvB;AACA,MAAIC,eAAe,GAAG;AAClBC,IAAAA,QAAQ,EAAER,OADQ;AAElBS,IAAAA,IAAI,EAAEC,cAAc,EAFF;AAGlBT,IAAAA,QAAQ,EAAEA;AAHQ,GAAtB;AAMAU,EAAAA,UAAU,CAAC,YAAY;AACnBtB,IAAAA,gBAAgB,CAACuB,MAAjB,CAAwBT,gBAAgB,CAACI,eAAD,CAAxC;AACAL,IAAAA,cAAc;AACjB,GAHU,CAGTP,IAHS,CAGJ,IAHI,CAAD,EAGI,IAHJ,CAAV;AAIH,CAdD;;AAgBA,SAASkB,WAAT,CAAqBb,OAArB,EAA8B;AAC1B,MAAIc,QAAQ,GAAGjB,CAAC,CAAC,WAAD,CAAD,CAAekB,GAAf,EAAf;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAI,EAAAA,OAAO,CAACJ,QAAD,EAAWd,OAAX,CAAP;AACAE,EAAAA,cAAc;;AACd,MAAIF,OAAO,CAACmB,IAAR,OAAmB,EAAvB,EAA2B;AACvB,QAAIC,QAAQ,GAAGhB,UAAU,CAACC,OAAX,CAAmBR,CAAC,CAAC,mBAAD,CAAD,CAAuBS,IAAvB,EAAnB,CAAf;AACA,QAAIe,OAAO,GAAG;AACVC,MAAAA,aAAa,EAAEtB,OADL;AAEVS,MAAAA,IAAI,EAAEC,cAAc,EAFV;AAGVa,MAAAA,UAAU,EAAET;AAHF,KAAd;AAMAzB,IAAAA,gBAAgB,CAACuB,MAAjB,CAAwBQ,QAAQ,CAACC,OAAD,CAAhC;AACAnB,IAAAA,cAAc;AACdd,IAAAA,SAAS,CAAC2B,GAAV,CAAc,EAAd;AACH;AACJ;;AAED,SAASb,cAAT,GAA0B;AACtBhB,EAAAA,YAAY,CAACsC,SAAb,CAAuBtC,YAAY,CAAC,CAAD,CAAZ,CAAgBuC,YAAvC;AACH;;AAED,SAASf,cAAT,GAA0B;AACtB,SAAO,IAAIgB,IAAJ,GAAWC,kBAAX,GAAgCC,OAAhC,CAAwC,+BAAxC,EAAyE,MAAzE,CAAP;AACH;;AAED,SAASlC,UAAT,GAAsB;AAClBmB,EAAAA,WAAW,CAACzB,SAAS,CAAC2B,GAAV,EAAD,CAAX;AACH;;AAED,SAASnB,eAAT,CAAyBiC,KAAzB,EAAgC;AAC5B;AACA,MAAIA,KAAK,CAACC,OAAN,KAAkB,EAAtB,EAA0B;AACtBpC,IAAAA,UAAU;AACb;AACJ;;AAEDJ,IAAI","file":"custom.a62a38dd.js","sourceRoot":"..","sourcesContent":["let $chatHistory;\nlet $button;\nlet $textarea;\nlet $chatHistoryList;\n\nfunction init() {\n    cacheDOM();\n    bindEvents();\n}\n\nfunction bindEvents() {\n    $button.on('click', addMessage.bind(this));\n    $textarea.on('keyup', addMessageEnter.bind(this));\n}\n\nfunction cacheDOM() {\n    $chatHistory = $('.chat-history');\n    $button = $('#sendBtn');\n    $textarea = $('#message-to-send');\n    $chatHistoryList = $chatHistory.find('ul');\n}\n\nrender = function(message, userName) {\n    scrollToBottom();\n    // responses\n    var templateResponse = Handlebars.compile($(\"#message-response-template\").html());\n    var contextResponse = {\n        response: message,\n        time: getCurrentTime(),\n        userName: userName\n    };\n\n    setTimeout(function () {\n        $chatHistoryList.append(templateResponse(contextResponse));\n        scrollToBottom();\n    }.bind(this), 1500);\n}\n\nfunction sendMessage(message) {\n    let username = $('#userName').val();\n    console.log(username)\n    sendMsg(username, message);\n    scrollToBottom();\n    if (message.trim() !== '') {\n        var template = Handlebars.compile($(\"#message-template\").html());\n        var context = {\n            messageOutput: message,\n            time: getCurrentTime(),\n            toUserName: username\n        };\n\n        $chatHistoryList.append(template(context));\n        scrollToBottom();\n        $textarea.val('');\n    }\n}\n\nfunction scrollToBottom() {\n    $chatHistory.scrollTop($chatHistory[0].scrollHeight);\n}\n\nfunction getCurrentTime() {\n    return new Date().toLocaleTimeString().replace(/([\\d]+:[\\d]{2})(:[\\d]{2})(.*)/, \"$1$3\");\n}\n\nfunction addMessage() {\n    sendMessage($textarea.val());\n}\n\nfunction addMessageEnter(event) {\n    // enter was pressed\n    if (event.keyCode === 13) {\n        addMessage();\n    }\n}\n\ninit();\n\n"]}